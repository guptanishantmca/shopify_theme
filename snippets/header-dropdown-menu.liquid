<nav class="header__inline-menu relative">
  <ul class="list-menu list-menu--inline flex space-x-6" role="list">
    {%- for link in section.settings.menu.links -%}
      <li class="relative group">
        {%- if link.links != blank -%}
          <a
            href="{{ link.url }}"
            class="header__menu-item list-menu__item link focus-inset group-hover:text-blue-500"
          >
            {{- link.title | escape -}}
          </a>

          <!-- First Level Dropdown -->
          <ul
            class="absolute left-0 top-full hidden bg-white shadow-md rounded-md py-2 w-48 group-hover:block"
          >
            {%- for childlink in link.links -%}
              <li class="relative group">
                {%- if childlink.links == blank -%}
                  <a
                    href="{{ childlink.url }}"
                    class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                  >
                    {{ childlink.title | escape }}
                  </a>
                {%- else -%}
                  <a
                    href="{{ childlink.url }}"
                    class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex justify-between"
                  >
                    {{ childlink.title | escape }}
                    <span>â–¶</span>
                  </a>

                  <!-- Second Level Dropdown -->
                  <ul
                    class="absolute left-full top-0 hidden bg-white shadow-md rounded-md py-2 w-48 group-hover:block"
                  >
                    {%- for grandchildlink in childlink.links -%}
                      <li>
                        <a
                          href="{{ grandchildlink.url }}"
                          class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                        >
                          {{ grandchildlink.title | escape }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}
              </li>
            {%- endfor -%}
          </ul>
        {%- else -%}
          <a
            href="{{ link.url }}"
            class="header__menu-item list-menu__item link focus-inset"
          >
            {{- link.title | escape -}}
          </a>
        {%- endif -%}
      </li>
    {%- endfor -%}
  </ul>
</nav>
